<!DOCTYPE html>
<html>
  <head>
    <title>GPS AR Demo</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/jeromeetienne/AR.js/master/aframe/build/aframe-ar.min.js"></script>
    <script src="https://rawgit.com/mayognaise/aframe-gif-shader/master/dist/aframe-gif-shader.min.js"></script>
    <style>
      #gpsDisplay {
        position: absolute;
        top: 10px;
        right: 10px;
        background: rgba(0,0,0,0.6);
        color: #fff;
        padding: 8px 12px;
        font-family: monospace;
        font-size: 14px;
        border-radius: 6px;
        z-index: 999;
      }
    </style>
  </head>
  <body style="margin: 0; overflow: hidden;">
    <div id="gpsDisplay">ğŸ“ ìœ„ì¹˜ í™•ì¸ ì¤‘...</div>

    <a-scene
      vr-mode-ui="enabled: false"
      embedded
      arjs="sourceType: webcam; gpsMinAccuracy: 100; debugUIEnabled: false;"
    >
      <a-camera gps-camera rotation-reader></a-camera>

      <!-- ì´ë¯¸ì§€ í‘œì‹œ ê°ì²´ -->
      <a-image
        src="https://made-by-bg.s3.ap-northeast-2.amazonaws.com/Jiahn.png"
        gps-entity-place="latitude: 37.526619; longitude: 126.887220;"
        look-at="[gps-camera]"
        scale="5 5 5"
      ></a-image>

      <a-entity
        geometry="primitive: plane; height: 2; width: 2"
        material="shader: gif; src: url(https://made-by-bg.s3.ap-northeast-2.amazonaws.com/arrow_direction_spin_right_md_nwm_v2.gif)"
        position="0 1.5 -3"
      ></a-entity>
    </a-scene>

    <script>
      const gpsDisplay = document.getElementById("gpsDisplay");

      navigator.geolocation.watchPosition(
        (pos) => {
          const lat = pos.coords.latitude.toFixed(6);
          const lon = pos.coords.longitude.toFixed(6);
          gpsDisplay.textContent = `ğŸ“ ìœ„ë„: ${lat}, ê²½ë„: ${lon}`;
        },
        (err) => {
          gpsDisplay.textContent = "â— GPS ì •ë³´ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.";
        },
        { enableHighAccuracy: true }
      );
    </script>
  </body>
</html>
